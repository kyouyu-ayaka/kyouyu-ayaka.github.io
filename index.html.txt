<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼šãƒ¡ãƒ¢ãƒ»ç”»åƒãƒ»ãƒ•ã‚¡ã‚¤ãƒ«</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 4px;
    }
    textarea {
      width: 100%;
      height: 150px;
    }
    img {
      max-width: 100%;
      height: auto;
      margin-top: 10px;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

  <h1>ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>

  <!-- ğŸ“˜ ãƒ¡ãƒ¢å¸³ -->
  <h2>ğŸ“ ãƒ¡ãƒ¢</h2>
  <textarea id="memo"></textarea><br>
  <button onclick="saveMemo()">ä¿å­˜</button>
  <button onclick="loadMemo()">èª­ã¿è¾¼ã¿</button>

  <!-- ğŸ–¼ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
  <h2>ğŸ–¼ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>
  <input type="file" id="imageInput" accept="image/*"><br>
  <img id="imagePreview" src="" alt="ã¾ã ç”»åƒãŒã‚ã‚Šã¾ã›ã‚“">

  <!-- ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
  <h2>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>
  <input type="file" id="fileInput" multiple><br><br>
  <ul id="fileList"></ul>

  <script>
    // ğŸ”¹ ãƒ¡ãƒ¢ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿
    function saveMemo() {
      const text = document.getElementById('memo').value;
      localStorage.setItem('myMemo', text);
      alert('ãƒ¡ãƒ¢ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼');
    }

    function loadMemo() {
      const saved = localStorage.getItem('myMemo');
      document.getElementById('memo').value = saved || '';
    }

    // ğŸ”¹ ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
    const imageInput = document.getElementById('imageInput');
    const imagePreview = document.getElementById('imagePreview');

    imageInput.addEventListener('change', function () {
      const file = imageInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          imagePreview.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    // ğŸ”¹ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§è¡¨ç¤º
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');

    fileInput.addEventListener('change', function () {
      fileList.innerHTML = '';
      const files = Array.from(fileInput.files);

      files.forEach(file => {
        const li = document.createElement('li');
        const link = document.createElement('a');
        link.textContent = file.name;
        link.href = URL.createObjectURL(file);
        link.download = file.name;
        link.target = "_blank";
        li.appendChild(link);
        fileList.appendChild(li);
      });
    });

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ¡ãƒ¢ã‚’è‡ªå‹•èª­ã¿è¾¼ã¿
    window.onload = loadMemo;
  </script>

</body>
</html>