<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒã‚¤ãƒšãƒ¼ã‚¸ï¼šãƒ¡ãƒ¢ãƒ»ç”»åƒãƒ»ãƒ•ã‚¡ã‚¤ãƒ«</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h2 {
      border-bottom: 2px solid #ccc;
      padding-bottom: 4px;
    }
    textarea {
      width: 100%;
      height: 100px;
    }
    img {
      max-width: 100%;
      height: auto;
      margin-top: 10px;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

  <h1>ãƒã‚¤ãƒšãƒ¼ã‚¸</h1>

  <!-- ğŸ“ ãƒ¡ãƒ¢æ©Ÿèƒ½ -->
  <h2>ğŸ“ ãƒ¡ãƒ¢</h2>
  <textarea id="memoInput" placeholder="ã“ã“ã«ãƒ¡ãƒ¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea><br>
  <button onclick="addMemo()">è¿½åŠ </button>
  <button onclick="clearMemos()">ã‚¯ãƒªã‚¢</button>
  <ul id="memoList" style="margin-top: 10px;"></ul>

  <!-- ğŸ–¼ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
  <h2>ğŸ–¼ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>
  <input type="file" id="imageInput" accept="image/*"><br>
  <img id="imagePreview" src="" alt="ã¾ã ç”»åƒãŒã‚ã‚Šã¾ã›ã‚“">

  <!-- ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
  <h2>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>
  <input type="file" id="fileInput" multiple><br><br>
  <ul id="fileList"></ul>

  <script>
    // ==== ğŸ“ ãƒ¡ãƒ¢æ©Ÿèƒ½ ====
    const MEMO_KEY = 'myMemos';

    function addMemo() {
      const input = document.getElementById('memoInput');
      const text = input.value.trim();
      if (text === '') return;

      const memos = getSavedMemos();
      memos.push(text);
      localStorage.setItem(MEMO_KEY, JSON.stringify(memos));
      input.value = '';
      renderMemos();
    }

    function renderMemos() {
      const memos = getSavedMemos();
      const memoList = document.getElementById('memoList');
      memoList.innerHTML = '';
      memos.forEach(memo => {
        const li = document.createElement('li');
        li.textContent = memo;
        memoList.appendChild(li);
      });
    }

    function getSavedMemos() {
      return JSON.parse(localStorage.getItem(MEMO_KEY)) || [];
    }

    function clearMemos() {
      localStorage.removeItem(MEMO_KEY);
      renderMemos();
    }

    // ==== ğŸ–¼ ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ====
    const imageInput = document.getElementById('imageInput');
    const imagePreview = document.getElementById('imagePreview');

    imageInput.addEventListener('change', function () {
      const file = imageInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          imagePreview.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    // ==== ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ ====
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');

    fileInput.addEventListener('change', function () {
      fileList.innerHTML = '';
      const files = Array.from(fileInput.files);

      files.forEach(file => {
        const li = document.createElement('li');
        const link = document.createElement('a');
        link.textContent = file.name;
        link.href = URL.createObjectURL(file);
        link.download = file.name;
        link.target = "_blank";
        li.appendChild(link);
        fileList.appendChild(li);
      });
    });

    // ==== ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ¡ãƒ¢èª­ã¿è¾¼ã¿ ====
    window.onload = renderMemos;
  </script>

</body>
</html>
